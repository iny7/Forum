import { normalize, schema } from 'normalizr'

// Define a users schema
export const user = new schema.Entity('users')

const following = new schema.Array(user) // 关注
const fans = new schema.Array(user) // 粉丝
user.define({ following, fans })

// Define comments schema
export const comment = new schema.Entity('comments', {
  commenter: user
})

// Define article
export const post = new schema.Entity('posts', {
  author: user,
  comments: [ comment ]
})

export const posts = new schema.Array(post) // same as `[post]`

// const schema2 = [post]
// const str = {"posts": [{"id":9,"title":"123","category":"newest","content":"321","comments":[],"created_at":"2017-04-10T14:42:38.000Z","liked":false,"likes_count":0,"author":{"id":1,"name":"呵呵用户","avatar":null}},{"id":7,"title":"测试文章title","category":"newest","content":"内容内容","comments":[],"created_at":"2017-04-04T14:48:23.000Z","liked":false,"likes_count":0,"author":{"id":1,"name":"呵呵用户","avatar":null}},{"id":5,"title":"头条新闻","category":"newest","content":"如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n","comments":[],"created_at":"2017-04-02T15:26:09.000Z","liked":false,"likes_count":0,"author":{"id":1,"name":"呵呵用户","avatar":null}},{"id":3,"title":"头条新闻","category":"newest","content":"如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n","comments":[{"id":4,"post_id":3,"author":"JAY西元前","content":"我是222评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:23:55.000Z"},{"id":8,"post_id":3,"author":"JAY西元前","content":"我是222评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:25:43.000Z"},{"id":12,"post_id":3,"author":"JAY西元前","content":"我是222评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:26:09.000Z"}],"created_at":"2017-04-02T15:25:43.000Z","liked":false,"likes_count":0,"author":{"id":1,"name":"呵呵用户","avatar":null}},{"id":4,"title":"请教下，PostCSS和rework有什么区别区区别...","category":"newest","content":"如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n","comments":[],"created_at":"2017-04-02T15:25:43.000Z","liked":false,"likes_count":0,"author":{"id":1,"name":"呵呵用户","avatar":null}},{"id":1,"title":"头条新闻","category":"newest","content":"如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n","comments":[{"id":1,"post_id":1,"author":"呵呵用户","content":"我是111评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:23:55.000Z"},{"id":2,"post_id":1,"author":"JAY西元前","content":"我是111评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:23:55.000Z"},{"id":5,"post_id":1,"author":"呵呵用户","content":"我是111评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:25:43.000Z"},{"id":6,"post_id":1,"author":"JAY西元前","content":"我是111评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:25:43.000Z"},{"id":9,"post_id":1,"author":"呵呵用户","content":"我是111评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:26:09.000Z"},{"id":10,"post_id":1,"author":"JAY西元前","content":"我是111评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:26:09.000Z"},{"id":13,"post_id":1,"author":"呵呵用户","content":"嘻嘻","likes_count":0,"created_at":"2017-04-20T04:47:39.000Z"},{"id":14,"post_id":1,"author":"呵呵用户","content":"嘻嘻","likes_count":0,"created_at":"2017-04-20T04:48:25.000Z"},{"id":15,"post_id":1,"author":"呵呵用户","content":"123123123","likes_count":0,"created_at":"2017-04-20T09:03:18.000Z"},{"id":16,"post_id":1,"author":"呵呵用户","content":"412312","likes_count":0,"created_at":"2017-04-20T09:07:20.000Z"},{"id":17,"post_id":1,"author":"呵呵用户","content":"4441223","likes_count":0,"created_at":"2017-04-20T09:08:58.000Z"},{"id":18,"post_id":1,"author":"呵呵用户","content":"111","likes_count":0,"created_at":"2017-04-20T09:10:09.000Z"},{"id":19,"post_id":1,"author":"呵呵用户","content":"4141","likes_count":0,"created_at":"2017-04-20T09:19:53.000Z"},{"id":20,"post_id":1,"author":"呵呵用户","content":"4442","likes_count":0,"created_at":"2017-04-20T09:27:42.000Z"},{"id":21,"post_id":1,"author":"呵呵用户","content":"411002","likes_count":0,"created_at":"2017-04-20T09:27:48.000Z"}],"created_at":"2017-04-02T15:23:55.000Z","liked":false,"likes_count":0,"author":{"id":1,"name":"呵呵用户","avatar":null}},{"id":2,"title":"请教下，PostCSS和rework有什么区别区区别...","category":"newest","content":"如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n","comments":[{"id":3,"post_id":2,"author":"呵呵用户","content":"我是222评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:23:55.000Z"},{"id":7,"post_id":2,"author":"呵呵用户","content":"我是222评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:25:43.000Z"},{"id":11,"post_id":2,"author":"呵呵用户","content":"我是222评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:26:09.000Z"}],"created_at":"2017-04-02T15:23:55.000Z","liked":false,"likes_count":0,"author":{"id":1,"name":"呵呵用户","avatar":null}}]}
// const data2 = [{"id":9,"title":"123","category":"newest","content":"321","comments":[],"created_at":"2017-04-10T14:42:38.000Z","liked":false,"likes_count":0,"author":{"id":1,"name":"呵呵用户","avatar":null}},{"id":7,"title":"测试文章title","category":"newest","content":"内容内容","comments":[],"created_at":"2017-04-04T14:48:23.000Z","liked":false,"likes_count":0,"author":{"id":1,"name":"呵呵用户","avatar":null}},{"id":5,"title":"头条新闻","category":"newest","content":"如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n","comments":[],"created_at":"2017-04-02T15:26:09.000Z","liked":false,"likes_count":0,"author":{"id":1,"name":"呵呵用户","avatar":null}},{"id":3,"title":"头条新闻","category":"newest","content":"如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n","comments":[{"id":4,"post_id":3,"author":"JAY西元前","content":"我是222评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:23:55.000Z"},{"id":8,"post_id":3,"author":"JAY西元前","content":"我是222评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:25:43.000Z"},{"id":12,"post_id":3,"author":"JAY西元前","content":"我是222评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:26:09.000Z"}],"created_at":"2017-04-02T15:25:43.000Z","liked":false,"likes_count":0,"author":{"id":1,"name":"呵呵用户","avatar":null}},{"id":4,"title":"请教下，PostCSS和rework有什么区别区区别...","category":"newest","content":"如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n","comments":[],"created_at":"2017-04-02T15:25:43.000Z","liked":false,"likes_count":0,"author":{"id":1,"name":"呵呵用户","avatar":null}},{"id":1,"title":"头条新闻","category":"newest","content":"如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n","comments":[{"id":1,"post_id":1,"author":"呵呵用户","content":"我是111评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:23:55.000Z"},{"id":2,"post_id":1,"author":"JAY西元前","content":"我是111评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:23:55.000Z"},{"id":5,"post_id":1,"author":"呵呵用户","content":"我是111评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:25:43.000Z"},{"id":6,"post_id":1,"author":"JAY西元前","content":"我是111评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:25:43.000Z"},{"id":9,"post_id":1,"author":"呵呵用户","content":"我是111评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:26:09.000Z"},{"id":10,"post_id":1,"author":"JAY西元前","content":"我是111评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:26:09.000Z"},{"id":13,"post_id":1,"author":"呵呵用户","content":"嘻嘻","likes_count":0,"created_at":"2017-04-20T04:47:39.000Z"},{"id":14,"post_id":1,"author":"呵呵用户","content":"嘻嘻","likes_count":0,"created_at":"2017-04-20T04:48:25.000Z"},{"id":15,"post_id":1,"author":"呵呵用户","content":"123123123","likes_count":0,"created_at":"2017-04-20T09:03:18.000Z"},{"id":16,"post_id":1,"author":"呵呵用户","content":"412312","likes_count":0,"created_at":"2017-04-20T09:07:20.000Z"},{"id":17,"post_id":1,"author":"呵呵用户","content":"4441223","likes_count":0,"created_at":"2017-04-20T09:08:58.000Z"},{"id":18,"post_id":1,"author":"呵呵用户","content":"111","likes_count":0,"created_at":"2017-04-20T09:10:09.000Z"},{"id":19,"post_id":1,"author":"呵呵用户","content":"4141","likes_count":0,"created_at":"2017-04-20T09:19:53.000Z"},{"id":20,"post_id":1,"author":"呵呵用户","content":"4442","likes_count":0,"created_at":"2017-04-20T09:27:42.000Z"},{"id":21,"post_id":1,"author":"呵呵用户","content":"411002","likes_count":0,"created_at":"2017-04-20T09:27:48.000Z"}],"created_at":"2017-04-02T15:23:55.000Z","liked":false,"likes_count":0,"author":{"id":1,"name":"呵呵用户","avatar":null}},{"id":2,"title":"请教下，PostCSS和rework有什么区别区区别...","category":"newest","content":"如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n\n            如果你无法简洁的表达你的想法，那只说明你还不够了解它。如果你无法简洁的表达你的想法，那只说明你还不够了解它解它...\\n","comments":[{"id":3,"post_id":2,"author":"呵呵用户","content":"我是222评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:23:55.000Z"},{"id":7,"post_id":2,"author":"呵呵用户","content":"我是222评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:25:43.000Z"},{"id":11,"post_id":2,"author":"呵呵用户","content":"我是222评论内容!!!!","likes_count":0,"created_at":"2017-04-02T15:26:09.000Z"}],"created_at":"2017-04-02T15:23:55.000Z","liked":false,"likes_count":0,"author":{"id":1,"name":"呵呵用户","avatar":null}}]
// console.error('---')
// console.log(normalize(data2, schema2))
// console.log(normalize(data2, postListSchema))
// console.error('---')

// console.log(normalize(str, arrayOfPosts))
// console.log(normalize(str, schema2))
// console.log(normalize(data2, schema2))
// console.log(normalize(data2, arrayOfPosts))

// console.log(normalize(data2, post))

